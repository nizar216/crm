<app-card>
  <div class="flex flex-col sm:flex-row flex-wrap sm:items-center justify-between p-6 pb-0 sm:pb-6">
    <h2 class="text-3xl font-semibold leading-tight">Nouvelle Réclamation</h2>
  </div>

  <form [formGroup]="reclamationForm" (ngSubmit)="onSubmit()" class="p-6">
    <!-- Informations Client -->
    <div class="mb-8">
      <h3 class="text-xl font-semibold mb-4 text-gray-700 border-b pb-2">Informations Client</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Client -->
        <nz-form-item>
          <nz-form-label [nzRequired]="true">Client</nz-form-label>
          <nz-form-control nzErrorTip="Veuillez sélectionner un client">
            <nz-select
              formControlName="IdClient"
              nzPlaceHolder="Sélectionner un client"
              [nzOptions]="clients"
            ></nz-select>
          </nz-form-control>
        </nz-form-item>

        <!-- Personne à contacter -->
        <nz-form-item>
          <nz-form-label>Personne à contacter</nz-form-label>
          <nz-form-control>
            <input nz-input formControlName="personneAcontacter" [readonly]="true" />
          </nz-form-control>
        </nz-form-item>

        <!-- Téléphone -->
        <nz-form-item>
          <nz-form-label>Téléphone</nz-form-label>
          <nz-form-control>
            <input nz-input formControlName="telephone1" [readonly]="true" />
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <!-- Informations Article -->
    <div class="mb-8">
      <h3 class="text-xl font-semibold mb-4 text-gray-700 border-b pb-2">Informations Article</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Article -->
        <nz-form-item>
          <nz-form-label>Article</nz-form-label>
          <nz-form-control>
            <nz-select
              formControlName="idArticle"
              nzPlaceHolder="Sélectionner un article"
              [nzOptions]="articles"
            ></nz-select>
          </nz-form-control>
        </nz-form-item>

        <!-- Numéro de série -->
        <nz-form-item>
          <nz-form-label>Numéro de série</nz-form-label>
          <nz-form-control>
            <input nz-input formControlName="serial_number" />
          </nz-form-control>
        </nz-form-item>

        <!-- Revendeur -->
        <nz-form-item>
          <nz-form-label>Revendeur</nz-form-label>
          <nz-form-control>
            <nz-select
              formControlName="IdRevendeur"
              nzPlaceHolder="Sélectionner un revendeur"
              [nzOptions]="revendeurs"
            ></nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <!-- Informations Intervention -->
    <div class="mb-8">
      <h3 class="text-xl font-semibold mb-4 text-gray-700 border-b pb-2">Informations Intervention</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Type Intervention -->
        <nz-form-item>
          <nz-form-label>Type Intervention</nz-form-label>
          <nz-form-control>
            <input nz-input formControlName="typeIntervention" />
          </nz-form-control>
        </nz-form-item>

        <!-- Type Régulation -->
        <nz-form-item>
          <nz-form-label>Type Régulation</nz-form-label>
          <nz-form-control>
            <input nz-input formControlName="typeregulation" />
          </nz-form-control>
        </nz-form-item>

        <!-- Technicien -->
        <nz-form-item>
          <nz-form-label>Technicien</nz-form-label>
          <nz-form-control>
            <nz-select
              formControlName="IdTechnicien"
              nzPlaceHolder="Sélectionner un technicien"
              [nzOptions]="techniciens"
            ></nz-select>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <!-- Planning -->
    <div class="mb-8">
      <h3 class="text-xl font-semibold mb-4 text-gray-700 border-b pb-2">Planning</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Status -->
        <nz-form-item>
          <nz-form-label>Status</nz-form-label>
          <nz-form-control>
            <input nz-input formControlName="status" [readonly]="true" />
          </nz-form-control>
        </nz-form-item>

        <!-- Date Saisie -->
        <nz-form-item>
          <nz-form-label [nzRequired]="true">Date Saisie</nz-form-label>
          <nz-form-control nzErrorTip="Veuillez sélectionner une date">
            <nz-date-picker
              formControlName="dateSaisie"
              [nzFormat]="'dd/MM/yyyy'"
            ></nz-date-picker>
          </nz-form-control>
        </nz-form-item>

        <!-- Date RDV -->
        <nz-form-item>
          <nz-form-label>Date RDV</nz-form-label>
          <nz-form-control>
            <nz-date-picker
              formControlName="dateDeRandezVous"
              [nzFormat]="'dd/MM/yyyy'"
            ></nz-date-picker>
          </nz-form-control>
        </nz-form-item>

        <!-- Heure Début -->
        <nz-form-item>
          <nz-form-label>Heure Début</nz-form-label>
          <nz-form-control>
            <nz-time-picker
              formControlName="heureDebut"
              [nzFormat]="'HH:mm'"
            ></nz-time-picker>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <!-- Notes -->
    <div class="mb-8">
      <h3 class="text-xl font-semibold mb-4 text-gray-700 border-b pb-2">Notes</h3>
      <div class="grid grid-cols-1 gap-6">
        <!-- Note SAV -->
        <nz-form-item>
          <nz-form-label>Note SAV</nz-form-label>
          <nz-form-control>
            <textarea
              nz-input
              formControlName="note_Sav"
              [nzAutosize]="{ minRows: 3, maxRows: 5 }"
              placeholder="Entrez les notes SAV ici..."
            ></textarea>
          </nz-form-control>
        </nz-form-item>

        <!-- Note Technicien -->
        <nz-form-item>
          <nz-form-label>Note Technicien</nz-form-label>
          <nz-form-control>
            <textarea
              nz-input
              formControlName="note_technicien"
              [nzAutosize]="{ minRows: 3, maxRows: 5 }"
              placeholder="Entrez les notes technicien ici..."
            ></textarea>
          </nz-form-control>
        </nz-form-item>
      </div>
    </div>

    <!-- Actions -->
    <div class="flex justify-end space-x-4 mt-8 pt-4 border-t">
      <button 
        nz-button 
        type="button" 
        (click)="onCancel()"
        class="px-6"
      >
        Annuler
      </button>
      <button
        nz-button
        nzType="primary"
        type="submit"
        [nzLoading]="isLoading"
        class="px-6"
      >
        Créer
      </button>
    </div>
  </form>
</app-card>
